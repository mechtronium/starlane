foundation: DockerDesktop
config:
  dependencies:
      - Postgres:
        image: "postgres:17"
        # this is the data dir in the container image
        volumes:
        - database_dir: /etc/data


        provider:
        - Registry:
          name: registry
          # if seed is specified in config space it
          # cannot be overwritten # by Settings
          seed: "$REPO/seeds/postgres/registry/registry.sql"
          # just any old database...
        - Database:
settings:
  dependencies:
    - Postgres:
      volumes:
      - database_dir: "$HOME/starlane/data/postgres"
      username: postgres
      password: postgres
      provider:
      - Registry:
        name: registry
        schema: public
        scorch: false
      - Database:
        name: database
        scorch: false